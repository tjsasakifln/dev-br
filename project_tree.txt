# Estrutura Atualizada do Projeto Open-SWE

## ğŸ“ Raiz do Projeto
```
/mnt/d/open-swe/
â”œâ”€â”€ .claude/                    # ConfiguraÃ§Ãµes Claude Code
â”‚   â””â”€â”€ settings.local.json
â”œâ”€â”€ .github/workflows/          # GitHub Actions CI/CD
â”‚   â”œâ”€â”€ ci.yml
â”‚   â”œâ”€â”€ deploy-langgraph.yml
â”‚   â”œâ”€â”€ pr_lint.yml
â”‚   â”œâ”€â”€ sync-docs.yml
â”‚   â””â”€â”€ unit-tests.yml
â”œâ”€â”€ .vscode/
â”‚   â””â”€â”€ settings.json
â”œâ”€â”€ .yarnrc.yml
â”œâ”€â”€ AGENTS.md                   # DocumentaÃ§Ã£o dos agentes IA
â”œâ”€â”€ CLAUDE.md                   # InstruÃ§Ãµes do projeto
â”œâ”€â”€ LICENSE
â”œâ”€â”€ PRD.md                      # Product Requirements Document
â”œâ”€â”€ README.md
â”œâ”€â”€ SECURITY.md
â”œâ”€â”€ docker-compose.yml          # OrquestraÃ§Ã£o de containers
â”œâ”€â”€ package.json               # Monorepo config
â”œâ”€â”€ project_tree.txt           # Este arquivo
â”œâ”€â”€ tsconfig.json              # TypeScript config raiz
â”œâ”€â”€ turbo.json                 # Turbo monorepo
â””â”€â”€ yarn.lock
```

## ğŸ“± Apps - AplicaÃ§Ãµes Principais

### ğŸŒ Platform (Next.js 14 Frontend)
```
apps/platform/
â”œâ”€â”€ .env.example/.env.local     # VariÃ¡veis de ambiente
â”œâ”€â”€ Dockerfile                  # Container config
â”œâ”€â”€ cypress/                    # E2E Tests
â”‚   â”œâ”€â”€ e2e/
â”‚   â”‚   â”œâ”€â”€ create-project.cy.ts
â”‚   â”‚   â”œâ”€â”€ dashboard.cy.ts
â”‚   â”‚   â”œâ”€â”€ login.cy.ts
â”‚   â”‚   â””â”€â”€ project-progress.cy.ts
â”‚   â”œâ”€â”€ fixtures/
â”‚   â””â”€â”€ support/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js 14 App Router
â”‚   â”‚   â”œâ”€â”€ api/                # API Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ [..._path]/route.ts    # Proxy para backend
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/           # NextAuth.js routes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [...nextauth]/route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logout/route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ status/route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ github/         # GitHub App integration
â”‚   â”‚   â”‚       â”œâ”€â”€ installation/
â”‚   â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚       â””â”€â”€ token/
â”‚   â”‚   â”œâ”€â”€ create/page.tsx
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ projects/
â”‚   â”‚   â”‚       â”œâ”€â”€ [id]/page.tsx
â”‚   â”‚   â”‚       â””â”€â”€ new/page.tsx
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx           # Homepage
â”‚   â”‚   â”œâ”€â”€ project/[id]/page.tsx
â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â””â”€â”€ users/create/page.tsx
â”‚   â”œâ”€â”€ components/             # React Components
â”‚   â”‚   â”œâ”€â”€ auth/              # AutenticaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ create/            # CriaÃ§Ã£o de projetos
â”‚   â”‚   â”œâ”€â”€ gen-ui/            # UI para geraÃ§Ã£o IA
â”‚   â”‚   â”œâ”€â”€ github/            # GitHub integration UI
â”‚   â”‚   â”œâ”€â”€ project/           # VisualizaÃ§Ã£o de projetos
â”‚   â”‚   â”œâ”€â”€ thread/            # Chat/Thread components
â”‚   â”‚   â”œâ”€â”€ ui/                # shadcn/ui components
â”‚   â”‚   â””â”€â”€ v2/                # Nova UI
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â””â”€â”€ settings-page/     # PÃ¡gina de configuraÃ§Ãµes
â”‚   â”œâ”€â”€ hooks/                 # React hooks customizados
â”‚   â”œâ”€â”€ lib/                   # Utilities e configs
â”‚   â”œâ”€â”€ providers/             # React Context providers
â”‚   â”œâ”€â”€ services/              # Services de API
â”‚   â”œâ”€â”€ stores/                # State management
â”‚   â”œâ”€â”€ types/                 # TypeScript types
â”‚   â””â”€â”€ utils/                 # FunÃ§Ãµes utilitÃ¡rias
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â””â”€â”€ config files...
```

### âš™ï¸ API (Express.js Backend)
```
apps/api/
â”œâ”€â”€ .env/.env.example          # VariÃ¡veis de ambiente
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ prisma/                    # Database ORM
â”‚   â”œâ”€â”€ migrations/            # MigraÃ§Ãµes SQL
â”‚   â”œâ”€â”€ schema.prisma          # Schema da DB
â”‚   â””â”€â”€ seed.ts               # Dados iniciais
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/v1/               # REST API Routes
â”‚   â”‚   â”œâ”€â”€ generations/      # Endpoints de geraÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ generations.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ generations.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ generations.test.ts
â”‚   â”‚   â”œâ”€â”€ projects/         # Endpoints de projetos
â”‚   â”‚   â”‚   â”œâ”€â”€ projects.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ projects.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ projects.test.ts
â”‚   â”‚   â””â”€â”€ users/            # Endpoints de usuÃ¡rios
â”‚   â”‚       â”œâ”€â”€ users.routes.ts
â”‚   â”‚       â”œâ”€â”€ users.service.ts
â”‚   â”‚       â””â”€â”€ users.test.ts
â”‚   â”œâ”€â”€ index.ts              # Entry point
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ prisma.ts         # DB client
â”‚   â”‚   â””â”€â”€ queue.ts          # Bull Queue config
â”‚   â”œâ”€â”€ middleware/           # Express middleware
â”‚   â”œâ”€â”€ services/             # Business logic
â”‚   â”‚   â”œâ”€â”€ generation-engine/ # âš ï¸ AUSENTE - Motor IA LangGraph
â”‚   â”‚   â”œâ”€â”€ github.service.ts # GitHub integration
â”‚   â”‚   â”œâ”€â”€ generation/       # âš ï¸ VAZIO
â”‚   â”‚   â”œâ”€â”€ project/          # âš ï¸ VAZIO
â”‚   â”‚   â””â”€â”€ user/             # âš ï¸ VAZIO
â”‚   â””â”€â”€ workers/
â”‚       â””â”€â”€ generationWorker.ts # âš ï¸ NÃ£o Ã© graph.worker.ts
â””â”€â”€ tsconfig.json
```

## ğŸ“¦ Packages - CÃ³digo Compartilhado

### ğŸ”— Shared Package
```
packages/shared/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ caching.ts
â”‚   â”œâ”€â”€ configurable-metadata.ts
â”‚   â”œâ”€â”€ constants.ts
â”‚   â”œâ”€â”€ crypto.ts
â”‚   â”œâ”€â”€ github/               # GitHub utilities
â”‚   â”‚   â”œâ”€â”€ allowed-users.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ verify-user.ts
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ messages.ts
â”‚   â””â”€â”€ open-swe/            # Open-SWE Types
â”‚       â”œâ”€â”€ custom-node-events.ts
â”‚       â”œâ”€â”€ manager/types.ts
â”‚       â”œâ”€â”€ planner/types.ts
â”‚       â”œâ”€â”€ reviewer/types.ts
â”‚       â”œâ”€â”€ tasks.ts
â”‚       â”œâ”€â”€ tools.ts
â”‚       â””â”€â”€ types.ts
â””â”€â”€ tsconfig.json
```

## ğŸ¨ Templates - AplicaÃ§Ãµes Geradas

### React + FastAPI Template
```
templates/
â”œâ”€â”€ react-express/            # âš ï¸ VAZIO - Sem implementaÃ§Ã£o
â””â”€â”€ react-fastapi/           # âœ… IMPLEMENTADO
    â”œâ”€â”€ README.md
    â”œâ”€â”€ docker-compose.yml
    â”œâ”€â”€ backend/              # FastAPI Backend
    â”‚   â”œâ”€â”€ Dockerfile
    â”‚   â”œâ”€â”€ app/
    â”‚   â”‚   â”œâ”€â”€ api/todos.py
    â”‚   â”‚   â”œâ”€â”€ main.py
    â”‚   â”‚   â””â”€â”€ models.py
    â”‚   â””â”€â”€ requirements.txt
    â””â”€â”€ frontend/             # React Frontend  
        â”œâ”€â”€ Dockerfile
        â”œâ”€â”€ src/
        â”‚   â”œâ”€â”€ App.tsx
        â”‚   â”œâ”€â”€ components/
        â”‚   â”œâ”€â”€ services/api.ts
        â”‚   â””â”€â”€ types/todo.ts
        â”œâ”€â”€ package.json
        â”œâ”€â”€ tailwind.config.js
        â””â”€â”€ vite.config.ts
```

## âš ï¸ DivergÃªncias CrÃ­ticas Identificadas

### ğŸ”´ Motor de IA LangGraph - AUSENTE
- **Especificado**: `apps/api/src/services/generation-engine/`
- **Atual**: Apenas referÃªncias vazias em `apps/api/src/services/generation/`
- **Faltam**: Agents, Graph, Schemas, Types, Utils

### ğŸ”´ WebContainers - NÃƒO IMPLEMENTADO
- **Especificado**: Preview em tempo real via StackBlitz WebContainers
- **Atual**: Componente `WebContainerPreview.tsx` existe mas sem integraÃ§Ã£o real

### ğŸ”´ Templates Incompletos
- **Especificado**: Templates React + FastAPI E React + Express
- **Atual**: Apenas React + FastAPI implementado

### ğŸ”´ Estrutura API Divergente
- **Especificado**: `apps/api/src/routes/` e `apps/api/src/services/`
- **Atual**: `apps/api/src/api/v1/` e services vazios

## ğŸ“Š Status de ImplementaÃ§Ã£o

### âœ… Implementado
- Frontend Next.js 14 com App Router
- AutenticaÃ§Ã£o NextAuth.js + GitHub OAuth
- Database PostgreSQL + Prisma ORM
- UI Components (shadcn/ui)
- E2E Tests (Cypress)
- Docker/Docker Compose
- GitHub Actions CI/CD
- Template React + FastAPI

### ğŸ”´ Ausente/Incompleto
- Motor LangGraph de geraÃ§Ã£o de IA
- WebContainers integration
- Template React + Express  
- Bull Queue workers
- Redis cache/sessions
- SSE streaming real-time
- GitHub App integration completa